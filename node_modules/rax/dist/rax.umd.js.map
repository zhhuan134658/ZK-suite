{"version":3,"file":"rax.umd.js","sources":["../src/vdom/host.js","../../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/prop-types/checkPropTypes.js","../src/vdom/element.js","../src/types.js","../src/vdom/flattenChildren.js","../src/vdom/scheduler.js","../src/error.js","../src/validateChildKeys.js","../src/createElement.js","../src/invokeFunctionsWithContext.js","../src/vdom/shallowEqual.js","../src/constant.js","../src/hooks.js","../src/toArray.js","../src/vdom/getNearestParent.js","../src/createContext.js","../src/createRef.js","../src/forwardRef.js","../src/memo.js","../src/fragment.js","../src/vdom/base.js","../src/vdom/empty.js","../src/vdom/ref.js","../src/vdom/instantiateComponent.js","../src/vdom/shouldUpdateComponent.js","../src/vdom/getElementKeyName.js","../src/vdom/getPrevSiblingNativeNode.js","../src/vdom/component.js","../src/vdom/root.js","../src/vdom/instance.js","../src/assign.js","../src/vdom/native.js","../src/vdom/text.js","../src/vdom/reactive.js","../src/vdom/updater.js","../src/vdom/performInSandbox.js","../src/vdom/composite.js","../src/vdom/fragment.js","../src/devtools/reconciler.js","../src/vdom/inject.js","../src/render.js","../src/version.js","../src/devtools/index.js","../src/index.js"],"sourcesContent":["/*\n * Stateful things in runtime\n */\nexport default {\n  __mountID: 1,\n  __isUpdating: false,\n  // Inject\n  driver: null,\n  // Roots\n  rootComponents: {},\n  rootInstances: {},\n  // Current owner component\n  owner: null,\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","import checkPropTypes from 'prop-types/checkPropTypes';\n\nexport default function Element(type, key, ref, props, owner) {\n  let element = {\n    // Built-in properties that belong on the element\n    type,\n    key,\n    ref,\n    props,\n    // Record the component responsible for creating this element.\n    _owner: owner,\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    const propTypes = type.propTypes;\n\n    // Validate its props provided by the propTypes definition\n    if (propTypes) {\n      const displayName = type.displayName || type.name;\n      checkPropTypes(\n        propTypes,\n        props,\n        'prop',\n        displayName,\n      );\n    }\n\n    // We make validation flag non-enumerable, so the test framework could ignore it\n    Object.defineProperty(element, '__validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    });\n\n    // Props is immutable\n    if (Object.freeze) {\n      Object.freeze(props);\n    }\n  }\n\n  return element;\n};\n","export function isNull(obj) {\n  return obj === null;\n}\n\nexport function isFunction(obj) {\n  return typeof obj === 'function';\n}\n\nexport function isObject(obj) {\n  return typeof obj === 'object';\n}\n\nexport function isPlainObject(obj) {\n  return EMPTY_OBJECT.toString.call(obj) === '[object Object]';\n}\n\nexport function isArray(array) {\n  return Array.isArray(array);\n}\n\nexport function isString(string) {\n  return typeof string === 'string';\n}\n\nexport function isNumber(string) {\n  return typeof string === 'number';\n}\n\nexport const NOOP = () => {};\nexport const EMPTY_OBJECT = {};\n","import { isArray } from '../types';\n\nfunction traverseChildren(children, result) {\n  if (isArray(children)) {\n    for (let i = 0, l = children.length; i < l; i++) {\n      traverseChildren(children[i], result);\n    }\n  } else {\n    result.push(children);\n  }\n}\n\nexport default function flattenChildren(children) {\n  if (children == null) {\n    return children;\n  }\n  const result = [];\n  traverseChildren(children, result);\n\n  // If length equal 1, return the only one.\n  return result.length - 1 ? result : result[0];\n}\n","let updateCallbacks = [];\nlet effectCallbacks = [];\nlet layoutCallbacks = [];\nexport let scheduler = setTimeout;\n\nif (process.env.NODE_ENV !== 'production') {\n  // Wrapper timer for hijack timers in jest\n  scheduler = (callback) => {\n    setTimeout(callback);\n  };\n}\n\nfunction invokeFunctionsWithClear(callbacks) {\n  let callback;\n  while (callback = callbacks.shift()) {\n    callback();\n  }\n}\n\n// Schedule before next render\nexport function schedule(callback) {\n  if (updateCallbacks.length === 0) {\n    scheduler(flush);\n  }\n  updateCallbacks.push(callback);\n}\n\n// Flush before next render\nexport function flush() {\n  invokeFunctionsWithClear(updateCallbacks);\n}\n\nexport function scheduleEffect(callback) {\n  if (effectCallbacks.length === 0) {\n    scheduler(flushEffect);\n  }\n  effectCallbacks.push(callback);\n}\n\nexport function flushEffect() {\n  invokeFunctionsWithClear(effectCallbacks);\n}\n\nexport function scheduleLayout(callback) {\n  layoutCallbacks.push(callback);\n}\n\nexport function flushLayout() {\n  invokeFunctionsWithClear(layoutCallbacks);\n}\n","import Host from './vdom/host';\nimport { scheduler } from './vdom/scheduler';\nimport { NOOP, isPlainObject } from './types';\n\nfunction createMinifiedError(type, code, obj) {\n  var typeInfo = obj === undefined ? '' : ' got: ' + getTypeInfo(obj);\n  return new Error(`${type}: #${code}, ${getRenderErrorInfo()}.` + typeInfo);\n}\n\nexport function getTypeInfo(obj) {\n  return isPlainObject(obj) ? Object.keys(obj) : obj;\n}\n\nexport function getRenderErrorInfo() {\n  const ownerComponent = Host.owner;\n  return ownerComponent ? `check <${ownerComponent.__getName()}>` : 'no owner';\n}\n\n/**\n * Minified code:\n *  1: Hooks called outside a component, or multiple version of Rax are used.\n *  6: Invalid component type, expected a class or function component.\n *  4: Too many re-renders, the number of renders is limited to prevent an infinite loop.\n *  5: Rax driver not found.\n * @param code {Number}\n * @param obj {Object}\n */\nexport function throwMinifiedError(code, obj) {\n  throw createMinifiedError('Error', code, obj);\n}\n\n/**\n * Minified Code:\n * 0: Invalid element type, expected a string or a class/function component but got \"null\" or \"undefined\".\n * 2. Invalid child type, expected types: Element instance, string, boolean, array, null, undefined.\n * 3. Ref can not attach because multiple copies of Rax are used.\n * @param {number} code\n * @param {string} info\n */\nexport function throwMinifiedWarn(code, obj) {\n  let err = createMinifiedError('Warn', code, obj);\n  scheduler(() => {\n    throw err;\n  }, 0);\n}\n\nexport function throwError(message, obj) {\n  let typeInfo = obj === undefined ? '' :\n    '(found: ' + (isPlainObject(obj) ? `object with keys {${Object.keys(obj)}}` : obj) + ')';\n\n  throw Error(`${message} ${typeInfo}`);\n}\n\nexport let warning = NOOP;\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = (template, ...args) => {\n    if (typeof console !== 'undefined') {\n      let argsWithFormat = args.map(item => '' + item);\n      argsWithFormat.unshift('Warning: ' + template);\n      // Don't use spread (or .apply) directly because it breaks IE9\n      Function.prototype.apply.call(console.error, console, argsWithFormat);\n    }\n\n    // For works in DevTools when enable `Pause on caught exceptions`\n    // that can find the component where caused this warning\n    try {\n      let argIndex = 0;\n      const message = 'Warning: ' + template.replace(/%s/g, () => args[argIndex++]);\n      throw new Error(message);\n    } catch (e) {}\n  };\n}\n\n","import Host from './vdom/host';\nimport { warning } from './error';\nimport { isArray } from './types';\n\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\nconst ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  let info = '';\n\n  const ownerComponent = Host.owner;\n  if (ownerComponent) {\n    const name = ownerComponent.__getName();\n    if (name) {\n      info = ` Check the render method of <${name}>.`;\n    }\n  }\n\n  if (!info) {\n    const parentName =\n      typeof parentType === 'string'\n        ? parentType\n        : parentType.displayName || parentType.name;\n    if (parentName) {\n      info = ` Check the top-level render call using <${parentName}>.`;\n    }\n  }\n  return info;\n}\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.type && !!object.props;\n}\n\nfunction validateExplicitKey(element, parentType) {\n  if (element.__validated || element.key != null) {\n    return;\n  }\n\n  element.__validated = true;\n\n  const currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n  if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n    return;\n  }\n  ownerHasKeyUseWarning[currentComponentErrorInfo] = true;\n\n  // Usually the current owner is the offender, but if it accepts children as a\n  // property, it may be the creator of the child that's responsible for\n  // assigning it a key.\n  let childOwner = '';\n  if (\n    element &&\n    element._owner &&\n    element._owner !== Host.owner\n  ) {\n    // Give the component that originally created this child.\n    childOwner = ` It was passed a child from <${element._owner.__getName()}>.`;\n  }\n\n  warning(`Each child in a list should have a unique \"key\" prop.${currentComponentErrorInfo}${childOwner}`);\n}\n\nexport default function validateChildKeys(node, parentType) {\n  // Only array or element object is valid child\n  if (typeof node !== 'object') {\n    return;\n  }\n\n  if (isArray(node)) {\n    for (let i = 0; i < node.length; i++) {\n      const child = node[i];\n      if (isValidElement(child)) {\n        validateExplicitKey(child, parentType);\n      }\n    }\n  } else if (isValidElement(node)) {\n    node.__validated = true;\n  }\n  // Rax don't support iterator object as element children\n  // TODO: add validate when rax support iterator object as element.\n}\n","import Host from './vdom/host';\nimport Element from './vdom/element';\nimport flattenChildren from './vdom/flattenChildren';\nimport { warning, throwError, throwMinifiedWarn } from './error';\nimport { isString, isArray, NOOP } from './types';\nimport validateChildKeys from './validateChildKeys';\n\nconst RESERVED_PROPS = {\n  key: true,\n  ref: true,\n};\n\nexport default function createElement(type, config, children) {\n  // Reserved names are extracted\n  let props = {};\n  let propName;\n  let key = null;\n  let ref = null;\n\n  if (config != null) {\n    ref = config.ref === undefined ? null : config.ref;\n    key = config.key === undefined ? null : '' + config.key;\n\n    // Remaining properties are added to a new props object\n    for (propName in config) {\n      if (!RESERVED_PROPS[propName]) {\n        props[propName] = config[propName];\n      }\n    }\n  }\n\n  // Children arguments can be more than one\n  const childrenLength = arguments.length - 2;\n  if (childrenLength > 0) {\n    if (childrenLength === 1 && !isArray(children)) {\n      props.children = children;\n    } else {\n      let childArray = children;\n      if (childrenLength > 1) {\n        childArray = new Array(childrenLength);\n        for (var i = 0; i < childrenLength; i++) {\n          childArray[i] = arguments[i + 2];\n        }\n      }\n      props.children = flattenChildren(childArray);\n    }\n  }\n\n  // Resolve default props\n  if (type && type.defaultProps) {\n    let defaultProps = type.defaultProps;\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n\n  if (type == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      throwError(`Invalid element type, expected a string or a class/function component but got \"${type}\".`);\n    } else {\n      // A empty component replaced avoid break render in production\n      type = NOOP;\n      throwMinifiedWarn(0);\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isString(ref) && !Host.owner) {\n      warning(\n        `Adding a string ref \"${ref}\" that was not created inside render method, or multiple copies of Rax are used.`\n      );\n    }\n\n    for (let i = 2; i < arguments.length; i ++) {\n      validateChildKeys(arguments[i], type);\n    }\n  }\n\n  return new Element(\n    type,\n    key,\n    ref,\n    props,\n    Host.owner\n  );\n}\n\n","export default function invokeFunctionsWithContext(fns, context, value) {\n  for (let i = 0, l = fns && fns.length; i < l; i++) {\n    fns[i].call(context, value);\n  }\n}\n","import { isNull, isObject, EMPTY_OBJECT } from '../types';\n\nconst hasOwnProperty = EMPTY_OBJECT.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nexport function is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y; // eslint-disable-line no-self-compare\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nexport default function shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (!isObject(objA) || isNull(objA) || !isObject(objB) || isNull(objB)) {\n    return false;\n  }\n\n  let keysA = Object.keys(objA);\n  let keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","/* Common constant variables for rax */\n\nexport const INTERNAL = '_internal';\nexport const INSTANCE = '_instance';\nexport const NATIVE_NODE = '_nativeNode';\nexport const RENDERED_COMPONENT = '_renderedComponent';\n","import Host from './vdom/host';\nimport { scheduleEffect, flushEffect } from './vdom/scheduler';\nimport { is } from './vdom/shallowEqual';\nimport { isArray, isFunction, isNull } from './types';\nimport { warning, throwError, throwMinifiedError } from './error';\nimport { INSTANCE } from './constant';\n\nfunction getCurrentInstance() {\n  return Host.owner && Host.owner[INSTANCE];\n}\n\nfunction getCurrentRenderingInstance() {\n  const currentInstance = getCurrentInstance();\n  if (currentInstance) {\n    return currentInstance;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      throwError('Hooks called outside a component, or multiple version of Rax are used.');\n    } else {\n      throwMinifiedError(1);\n    }\n  }\n}\n\nfunction areInputsEqual(inputs, prevInputs) {\n  if (isNull(prevInputs) || inputs.length !== prevInputs.length) {\n    return false;\n  }\n\n  for (let i = 0; i < inputs.length; i++) {\n    if (is(inputs[i], prevInputs[i])) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\n\nexport function useState(initialState) {\n  const currentInstance = getCurrentRenderingInstance();\n  const hookID = currentInstance.getHookID();\n  const hooks = currentInstance.getHooks();\n\n  if (!hooks[hookID]) {\n    // If the initial state is the result of an expensive computation,\n    // you may provide a function instead for lazy initial state.\n    if (isFunction(initialState)) {\n      initialState = initialState();\n    }\n\n    const setState = newState => {\n      // Flush all effects first before update state\n      if (!Host.__isUpdating) {\n        flushEffect();\n      }\n\n      const hook = hooks[hookID];\n      const eagerState = hook[2];\n      // function updater\n      if (isFunction(newState)) {\n        newState = newState(eagerState);\n      }\n\n      if (!is(newState, eagerState)) {\n        // Current instance is in render update phase.\n        // After this one render finish, will continue run.\n        hook[2] = newState;\n        if (getCurrentInstance() === currentInstance) {\n          // Marked as is scheduled that could finish hooks.\n          currentInstance.__isScheduled = true;\n        } else {\n          currentInstance.__update();\n        }\n      }\n    };\n\n    hooks[hookID] = [\n      initialState,\n      setState,\n      initialState\n    ];\n  }\n\n  const hook = hooks[hookID];\n  if (!is(hook[0], hook[2])) {\n    hook[0] = hook[2];\n    currentInstance.__shouldUpdate = true;\n  }\n\n  return hook;\n}\n\nexport function useContext(context) {\n  const currentInstance = getCurrentRenderingInstance();\n  return currentInstance.useContext(context);\n}\n\nexport function useEffect(effect, inputs) {\n  useEffectImpl(effect, inputs, true);\n}\n\nexport function useLayoutEffect(effect, inputs) {\n  useEffectImpl(effect, inputs);\n}\n\nfunction useEffectImpl(effect, inputs, defered) {\n  const currentInstance = getCurrentRenderingInstance();\n  const hookID = currentInstance.getHookID();\n  const hooks = currentInstance.getHooks();\n  inputs = inputs === undefined ? null : inputs;\n\n  if (!hooks[hookID]) {\n    const __create = (immediately) => {\n      if (!immediately && defered) return scheduleEffect(() => __create(true));\n      const { current } = __create;\n      if (current) {\n        __destory.current = current();\n        __create.current = null;\n\n        if (process.env.NODE_ENV !== 'production') {\n          const currentDestory = __destory.current;\n          if (currentDestory !== undefined && typeof currentDestory !== 'function') {\n            let msg;\n            if (currentDestory === null) {\n              msg =\n                ' You returned null. If your effect does not require clean ' +\n                'up, return undefined (or nothing).';\n            } else if (typeof currentDestory.then === 'function') {\n              msg =\n                '\\n\\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. ' +\n                'Instead, write the async function inside your effect ' +\n                'and call it immediately:\\n\\n' +\n                'useEffect(() => {\\n' +\n                '  async function fetchData() {\\n' +\n                '    // You can await here\\n' +\n                '    const response = await MyAPI.getData(someId);\\n' +\n                '    // ...\\n' +\n                '  }\\n' +\n                '  fetchData();\\n' +\n                '}, [someId]); // Or [] if effect doesn\\'t need props or state.';\n            } else {\n              msg = ' You returned: ' + currentDestory;\n            }\n\n            warning(\n              'An effect function must not return anything besides a function, ' +\n              'which is used for clean-up.' + msg,\n            );\n          }\n        }\n      }\n    };\n\n    const __destory = (immediately) => {\n      if (!immediately && defered) return scheduleEffect(() => __destory(true));\n      const { current } = __destory;\n      if (current) {\n        current();\n        __destory.current = null;\n      }\n    };\n\n    __create.current = effect;\n\n    hooks[hookID] = {\n      __create,\n      __destory,\n      __prevInputs: inputs,\n      __inputs: inputs\n    };\n\n    currentInstance.didMount.push(__create);\n    currentInstance.willUnmount.push(() => __destory(true));\n    currentInstance.didUpdate.push(() => {\n      const { __prevInputs, __inputs, __create } = hooks[hookID];\n      if (__inputs == null || !areInputsEqual(__inputs, __prevInputs)) {\n        __destory();\n        __create();\n      }\n    });\n  } else {\n    const hook = hooks[hookID];\n    const { __create, __inputs: prevInputs } = hook;\n    hook.__inputs = inputs;\n    hook.__prevInputs = prevInputs;\n    __create.current = effect;\n  }\n}\n\nexport function useImperativeHandle(ref, create, inputs) {\n  const nextInputs = isArray(inputs) ? inputs.concat([ref]) : null;\n\n  useLayoutEffect(() => {\n    if (isFunction(ref)) {\n      ref(create());\n      return () => ref(null);\n    } else if (ref != null) {\n      ref.current = create();\n      return () => {\n        ref.current = null;\n      };\n    }\n  }, nextInputs);\n}\n\nexport function useRef(initialValue) {\n  const currentInstance = getCurrentRenderingInstance();\n  const hookID = currentInstance.getHookID();\n  const hooks = currentInstance.getHooks();\n\n  if (!hooks[hookID]) {\n    hooks[hookID] = {\n      current: initialValue\n    };\n  }\n\n  return hooks[hookID];\n}\n\nexport function useCallback(callback, inputs) {\n  return useMemo(() => callback, inputs);\n}\n\nexport function useMemo(create, inputs) {\n  const currentInstance = getCurrentRenderingInstance();\n  const hookID = currentInstance.getHookID();\n  const hooks = currentInstance.getHooks();\n  inputs = inputs === undefined ? null : inputs;\n\n  if (!hooks[hookID]) {\n    hooks[hookID] = [create(), inputs];\n  } else {\n    const prevInputs = hooks[hookID][1];\n    if (isNull(inputs) || !areInputsEqual(inputs, prevInputs)) {\n      hooks[hookID] = [create(), inputs];\n    }\n  }\n\n  return hooks[hookID][0];\n}\n\nexport function useReducer(reducer, initialArg, init) {\n  const currentInstance = getCurrentRenderingInstance();\n  const hookID = currentInstance.getHookID();\n  const hooks = currentInstance.getHooks();\n  const hook = hooks[hookID];\n\n  if (!hook) {\n    const initialState = isFunction(init) ? init(initialArg) : initialArg;\n\n    const dispatch = action => {\n      // Flush all effects first before update state\n      if (!Host.__isUpdating) {\n        flushEffect();\n      }\n\n      const hook = hooks[hookID];\n      // Reducer will update in the next render, before that we add all\n      // actions to the queue\n      const queue = hook[2];\n\n      if (getCurrentInstance() === currentInstance) {\n        queue.__actions.push(action);\n        currentInstance.__isScheduled = true;\n      } else {\n        const currentState = queue.__eagerState;\n        const eagerReducer = queue.__eagerReducer;\n        const eagerState = eagerReducer(currentState, action);\n        if (is(eagerState, currentState)) {\n          return;\n        }\n        queue.__eagerState = eagerState;\n        queue.__actions.push(action);\n        currentInstance.__update();\n      }\n    };\n\n    return hooks[hookID] = [\n      initialState,\n      dispatch,\n      {\n        __actions: [],\n        __eagerReducer: reducer,\n        __eagerState: initialState\n      }\n    ];\n  }\n\n  const queue = hook[2];\n  let next = hook[0];\n\n  if (currentInstance.__reRenders > 0) {\n    for (let i = 0; i < queue.__actions.length; i++) {\n      next = reducer(next, queue.__actions[i]);\n    }\n  } else {\n    next = queue.__eagerState;\n  }\n\n  if (!is(next, hook[0])) {\n    hook[0] = next;\n    currentInstance.__shouldUpdate = true;\n  }\n\n  queue.__eagerReducer = reducer;\n  queue.__eagerState = next;\n  queue.__actions.length = 0;\n\n  return hooks[hookID];\n}\n","import { isArray } from './types';\n\nexport default function toArray(obj) {\n  return isArray(obj) ? obj : [obj];\n}\n","import { INTERNAL } from '../constant';\n\nexport default function getNearestParent(instance, matcher) {\n  let parent;\n  while (instance && instance[INTERNAL]) {\n    if (matcher(instance)) {\n      parent = instance;\n      break;\n    }\n    instance = instance[INTERNAL].__parentInstance;\n  }\n  return parent;\n}","import invokeFunctionsWithContext from './invokeFunctionsWithContext';\nimport { useState, useLayoutEffect } from './hooks';\nimport { isFunction } from './types';\nimport toArray from './toArray';\nimport getNearestParent from './vdom/getNearestParent';\n\nlet id = 0;\n\nexport default function createContext(defaultValue) {\n  const contextID = '_c' + id++;\n\n  // Provider Component\n  class Provider {\n    constructor() {\n      this.__contextID = contextID;\n      this.__handlers = [];\n    }\n    __on(handler) {\n      this.__handlers.push(handler);\n    }\n    __off(handler) {\n      this.__handlers = this.__handlers.filter(h => h !== handler);\n    }\n    // Like getChildContext but called in SSR\n    _getChildContext() {\n      return {\n        [contextID]: this\n      };\n    }\n    // `getValue()` called in rax-server-renderer\n    getValue() {\n      return this.props.value !== undefined ? this.props.value : defaultValue;\n    }\n    componentDidUpdate(prevProps) {\n      if (this.props.value !== prevProps.value) {\n        invokeFunctionsWithContext(this.__handlers, null, this.getValue());\n      }\n    }\n    render() {\n      return this.props.children;\n    }\n  }\n\n  function getNearestParentProvider(instance) {\n    return getNearestParent(instance, parent => parent.__contextID === contextID);\n  }\n\n  // Consumer Component\n  function Consumer(props, context) {\n    // Current `context[contextID]` only works in SSR\n    const [provider] = useState(() => context[contextID] || getNearestParentProvider(this));\n    let value = provider ? provider.getValue() : defaultValue;\n    const [prevValue, setValue] = useState(value);\n\n    if (value !== prevValue) {\n      setValue(value);\n      return; // Interrupt execution of consumer.\n    }\n\n    useLayoutEffect(() => {\n      if (provider) {\n        provider.__on(setValue);\n        return () => {\n          provider.__off(setValue);\n        };\n      }\n    }, []);\n\n    // Consumer requires a function as a child.\n    // The function receives the current context value.\n    const consumer = toArray(props.children)[0];\n    if (isFunction(consumer)) {\n      return consumer(value);\n    }\n  }\n\n  return {\n    Provider,\n    Consumer,\n    // `_contextID` and `_defaultValue` accessed in rax-server-renderer\n    _contextID: contextID,\n    _defaultValue: defaultValue,\n    __getNearestParentProvider: getNearestParentProvider,\n  };\n}\n","export default function createRef() {\n  return {\n    current: null\n  };\n}","export default function(render) {\n  // _forwardRef is also use in rax server renderer\n  render._forwardRef = true;\n  return render;\n}","import shallowEqual from './vdom/shallowEqual';\n\nexport default function memo(type, compare) {\n  compare = compare || shallowEqual;\n\n  // Memo could composed\n  if (type.__compares) {\n    type.__compares.push(compare);\n  } else {\n    type.__compares = [compare];\n  }\n\n  return type;\n}\n","export default function Fragment(props) {\n  return props.children;\n}","import Host from './host';\nimport { INSTANCE, INTERNAL, NATIVE_NODE } from '../constant';\n\n/**\n * Base Component\n */\nexport default class BaseComponent {\n  constructor(element) {\n    this.__currentElement = element;\n  }\n\n  __initComponent(parent, parentInstance, context) {\n    this._parent = parent;\n    this.__parentInstance = parentInstance;\n    this._context = context;\n    this._mountID = Host.__mountID++;\n  }\n\n  __destoryComponent() {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.reconciler.unmountComponent(this);\n    }\n\n    this.__currentElement\n      = this[NATIVE_NODE]\n      = this._parent\n      = this.__parentInstance\n      = this._context\n      = null;\n\n    if (this[INSTANCE]) {\n      this[INSTANCE] = this[INSTANCE][INTERNAL] = null;\n    }\n  }\n\n  __mountComponent(parent, parentInstance, context, nativeNodeMounter) {\n    this.__initComponent(parent, parentInstance, context);\n    this.__mountNativeNode(nativeNodeMounter);\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.reconciler.mountComponent(this);\n    }\n\n    const instance = {};\n    instance[INTERNAL] = this;\n\n    return instance;\n  }\n\n  unmountComponent(shouldNotRemoveChild) {\n    if (this[NATIVE_NODE] && !shouldNotRemoveChild) {\n      Host.driver.removeChild(this[NATIVE_NODE], this._parent);\n    }\n\n    this.__destoryComponent();\n  }\n\n  __getName() {\n    let currentElement = this.__currentElement;\n    let type = currentElement && currentElement.type;\n\n    return (\n      type && type.displayName ||\n      type && type.name ||\n      type || // Native component's name is type\n      currentElement\n    );\n  }\n\n  __mountNativeNode(nativeNodeMounter) {\n    let nativeNode = this.__getNativeNode();\n    let parent = this._parent;\n\n    if (nativeNodeMounter) {\n      nativeNodeMounter(nativeNode, parent);\n    } else {\n      Host.driver.appendChild(nativeNode, parent);\n    }\n  }\n\n  __getNativeNode() {\n    return this[NATIVE_NODE] == null\n      ? this[NATIVE_NODE] = this.__createNativeNode()\n      : this[NATIVE_NODE];\n  }\n\n  __getPublicInstance() {\n    return this.__getNativeNode();\n  }\n}\n","import Host from './host';\nimport BaseComponent from './base';\n\n/**\n * Empty Component\n */\nclass EmptyComponent extends BaseComponent {\n  __createNativeNode() {\n    return Host.driver.createEmpty(this);\n  }\n  __updateComponent() {\n    return;\n  }\n}\n\nexport default EmptyComponent;\n","/*\n * Ref manager\n */\nimport { isFunction, isObject } from '../types';\nimport { INSTANCE } from '../constant';\nimport { warning, throwMinifiedWarn } from '../error';\n\nexport function updateRef(prevElement, nextElement, component) {\n  let prevRef = prevElement ? prevElement.ref : null;\n  let nextRef = nextElement ? nextElement.ref : null;\n\n  // Update refs in owner component\n  if (prevRef !== nextRef) {\n    // Detach prev RenderedElement's ref\n    prevRef && detachRef(prevElement._owner, prevRef, component);\n    // Attach next RenderedElement's ref\n    nextRef && attachRef(nextElement._owner, nextRef, component);\n  }\n}\n\nexport function attachRef(ownerComponent, ref, component) {\n  if (!ownerComponent) {\n    if (process.env.NODE_ENV !== 'production') {\n      warning('Ref can not attach because multiple copies of Rax are used.');\n    } else {\n      throwMinifiedWarn(3);\n    }\n    return;\n  }\n\n  let instance = component.__getPublicInstance();\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (instance == null) {\n      warning('Do not attach ref to function component because they don’t have instances.');\n    }\n  }\n\n  if (isFunction(ref)) {\n    ref(instance);\n  } else if (isObject(ref)) {\n    ref.current = instance;\n  } else {\n    ownerComponent[INSTANCE].refs[ref] = instance;\n  }\n}\n\nexport function detachRef(ownerComponent, ref, component) {\n  if (isFunction(ref)) {\n    // When the referenced component is unmounted and whenever the ref changes, the old ref will be called with null as an argument.\n    ref(null);\n  } else {\n    // Must match component and ref could detach the ref on owner when A's before ref is B's current ref\n    let instance = component.__getPublicInstance();\n\n    if (isObject(ref) && ref.current === instance) {\n      ref.current = null;\n    } else if (ownerComponent[INSTANCE].refs[ref] === instance) {\n      delete ownerComponent[INSTANCE].refs[ref];\n    }\n  }\n}\n","import Host from './host';\nimport {isString, isNumber, isArray, isNull, isPlainObject} from '../types';\nimport { throwMinifiedWarn, throwError } from '../error';\n\nexport default function instantiateComponent(element) {\n  let instance;\n\n  if (isPlainObject(element) && element !== null && element.type) {\n    // Special case string values\n    if (isString(element.type)) {\n      instance = new Host.__Native(element);\n    } else {\n      instance = new Host.__Composite(element);\n    }\n  } else if (isString(element) || isNumber(element)) {\n    instance = new Host.__Text(String(element));\n  } else if (isArray(element)) {\n    instance = new Host.__Fragment(element);\n  } else {\n    if (!(element === undefined || isNull(element) || element === false || element === true)) {\n      if (process.env.NODE_ENV !== 'production') {\n        throwError('Invalid child type, expected types: Element instance, string, boolean, array, null, undefined.', element);\n      } else {\n        throwMinifiedWarn(2, element);\n      }\n    }\n\n    instance = new Host.__Empty(element);\n  }\n\n  return instance;\n}\n","import {isArray, isString, isNumber, isObject, isNull} from '../types';\n\nfunction shouldUpdateComponent(prevElement, nextElement) {\n  let prevEmpty = isNull(prevElement);\n  let nextEmpty = isNull(nextElement);\n  if (prevEmpty || nextEmpty) {\n    return prevEmpty === nextEmpty;\n  }\n\n  if (isArray(prevElement) && isArray(nextElement)) {\n    return true;\n  }\n\n  const isPrevStringOrNumber = isString(prevElement) || isNumber(prevElement);\n  if (isPrevStringOrNumber) {\n    return isString(nextElement) || isNumber(nextElement);\n  } else {\n    // prevElement and nextElement could be array, typeof [] is \"object\"\n    return (\n      isObject(prevElement) &&\n      isObject(nextElement) &&\n      prevElement.type === nextElement.type &&\n      prevElement.key === nextElement.key\n    );\n  }\n}\n\nexport default shouldUpdateComponent;\n","import { isString } from '../types';\nimport { warning } from '../error';\n\nexport default function getElementKeyName(children, element, index) {\n  const elementKey = element && element.key;\n  const defaultName = '.' + index.toString(36); // Inner child name default format fallback\n\n  // Key should must be string type\n  if (isString(elementKey)) {\n    let keyName = '$' + elementKey;\n    // Child keys must be unique.\n    let keyUnique = children[keyName] === undefined;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!keyUnique) {\n        // Only the first child will be used when encountered two children with the same key\n        warning(`Encountered two children with the same key \"${elementKey}\".`);\n      }\n    }\n\n    return keyUnique ? keyName : defaultName;\n  } else {\n    return defaultName;\n  }\n}\n","import Host from './host';\nimport { isArray } from '../types';\nimport { INTERNAL } from '../constant';\n\n/**\n * This function is usually been used to find the closet previous sibling native node of FragmentComponent.\n * FragmentComponent does not have a native node in the DOM tree, so when it is replaced, the new node has no corresponding location to insert.\n * So we need to look forward from the current mount position of the FragmentComponent to the nearest component which have the native node.\n * @param component\n * @return nativeNode\n */\nexport default function getPrevSiblingNativeNode(component) {\n  let parent = component;\n  while (parent = component.__parentInstance &&\n    component.__parentInstance[INTERNAL]) {\n    if (parent instanceof Host.__Composite) {\n      component = parent;\n      continue;\n    }\n\n    const keys = Object.keys(parent.__renderedChildren);\n    // Find previous sibling native node from current mount index\n    for (let i = component.__mountIndex - 1; i >= 0; i--) {\n      const nativeNode = parent.__renderedChildren[keys[i]].__getNativeNode();\n      // Fragment component always return array\n      if (isArray(nativeNode)) {\n        if (nativeNode.length > 0) {\n          // Get the last one\n          return nativeNode[nativeNode.length - 1];\n        }\n      } else {\n        // Others maybe native node or empty node\n        return nativeNode;\n      }\n    }\n\n    // Find parent over parent\n    if (parent instanceof Host.__Fragment) {\n      component = parent;\n    } else {\n      return null;\n    }\n  }\n}\n","/**\n * Base component class.\n */\nexport default class Component {\n  constructor(props, context) {\n    this.props = props;\n    this.context = context;\n    this.refs = {};\n  }\n\n  setState(partialState, callback) {\n    // The updater property is injected when composite component mounting\n    this.updater.setState(this, partialState, callback);\n  }\n\n  forceUpdate(callback) {\n    this.updater.forceUpdate(this, callback);\n  }\n}\n\n/**\n * Pure component.\n */\nexport class PureComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.__isPureComponent = true;\n  }\n}\n","import Component from './component';\nimport {INTERNAL, RENDERED_COMPONENT} from '../constant';\n\nlet rootID = 1;\n\nclass Root extends Component {\n  constructor() {\n    super();\n    // Using fragment instead of null for avoid create a comment node when init mount\n    this.__element = [];\n    this.__rootID = rootID++;\n  }\n\n  __getPublicInstance() {\n    return this.__getRenderedComponent().__getPublicInstance();\n  }\n\n  __getRenderedComponent() {\n    return this[INTERNAL][RENDERED_COMPONENT];\n  }\n\n  __update(element) {\n    this.__element = element;\n    this.forceUpdate();\n  }\n\n  render() {\n    return this.__element;\n  }\n}\n\nexport default Root;\n","import Host from './host';\nimport createElement from '../createElement';\nimport instantiateComponent from './instantiateComponent';\nimport Root from './root';\nimport {INTERNAL, RENDERED_COMPONENT} from '../constant';\n\n/**\n * Instance manager\n * @NOTE Key should not be compressed, for that will be added to native node and cause DOM Exception.\n */\nconst KEY = '_r';\n\nexport default {\n  set(node, instance) {\n    if (!node[KEY]) {\n      node[KEY] = instance;\n      // Record root instance to roots map\n      if (instance.__rootID) {\n        Host.rootInstances[instance.__rootID] = instance;\n        Host.rootComponents[instance.__rootID] = instance[INTERNAL];\n      }\n    }\n  },\n  get(node) {\n    return node[KEY];\n  },\n  remove(node) {\n    let instance = this.get(node);\n    if (instance) {\n      node[KEY] = null;\n      if (instance.__rootID) {\n        delete Host.rootComponents[instance.__rootID];\n        delete Host.rootInstances[instance.__rootID];\n      }\n    }\n  },\n  mount(element, container, { parent, hydrate }) {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeRender();\n    }\n\n    const driver = Host.driver;\n\n    // Real native root node is body\n    if (container == null) {\n      container = driver.createBody();\n    }\n\n    const renderOptions = {\n      element,\n      container,\n      hydrate\n    };\n\n    // Before render callback\n    driver.beforeRender && driver.beforeRender(renderOptions);\n\n    // Get the context from the conceptual parent component.\n    let parentContext;\n    if (parent) {\n      let parentInternal = parent[INTERNAL];\n      parentContext = parentInternal.__processChildContext(parentInternal._context);\n    }\n\n    // Update root component\n    let prevRootInstance = this.get(container);\n    if (prevRootInstance && prevRootInstance.__rootID) {\n      if (parentContext) {\n        // Using __penddingContext to pass new context\n        prevRootInstance[INTERNAL].__penddingContext = parentContext;\n      }\n      prevRootInstance.__update(element);\n\n      // After render callback\n      driver.afterRender && driver.afterRender(renderOptions);\n\n      return prevRootInstance;\n    }\n\n    // Init root component with empty children\n    let renderedComponent = instantiateComponent(createElement(Root));\n    let defaultContext = parentContext || {};\n    let rootInstance = renderedComponent.__mountComponent(container, parent, defaultContext);\n    this.set(container, rootInstance);\n\n    // Mount new element through update queue avoid when there is in rendering phase\n    rootInstance.__update(element);\n\n    // After render callback\n    driver.afterRender && driver.afterRender(renderOptions);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Devtool render new root hook\n      Host.reconciler.renderNewRootComponent(rootInstance[INTERNAL][RENDERED_COMPONENT]);\n      Host.measurer && Host.measurer.afterRender();\n    }\n\n    return rootInstance;\n  }\n};\n","export default Object.assign;\n","import Host from './host';\nimport { detachRef, attachRef, updateRef } from './ref';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport getElementKeyName from './getElementKeyName';\nimport getPrevSiblingNativeNode from './getPrevSiblingNativeNode';\nimport Instance from './instance';\nimport BaseComponent from './base';\nimport toArray from '../toArray';\nimport { isFunction, isArray, isNull } from '../types';\nimport assign from '../assign';\nimport { INSTANCE, INTERNAL, NATIVE_NODE } from '../constant';\n\nconst STYLE = 'style';\nconst CHILDREN = 'children';\nconst TREE = 'tree';\nconst EVENT_PREFIX_REGEXP = /^on[A-Z]/;\n\n/**\n * Native Component\n */\nexport default class NativeComponent extends BaseComponent {\n  __mountComponent(parent, parentInstance, context, nativeNodeMounter) {\n    this.__initComponent(parent, parentInstance, context);\n\n    const currentElement = this.__currentElement;\n    const props = currentElement.props;\n    const type = currentElement.type;\n    const children = props[CHILDREN];\n    const appendType = props.append || TREE; // Default is tree\n\n    // Clone a copy for style diff\n    this.__prevStyleCopy = assign({}, props[STYLE]);\n\n    let instance = {\n      type,\n      props,\n    };\n    instance[INTERNAL] = this;\n\n    this[INSTANCE] = instance;\n\n    if (appendType === TREE) {\n      // Should after process children when mount by tree mode\n      this.__mountChildren(children, context);\n      this.__mountNativeNode(nativeNodeMounter);\n    } else {\n      // Should before process children when mount by node mode\n      this.__mountNativeNode(nativeNodeMounter);\n      this.__mountChildren(children, context);\n    }\n\n    // Ref acttach\n    if (currentElement && currentElement.ref) {\n      attachRef(currentElement._owner, currentElement.ref, this);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.reconciler.mountComponent(this);\n    }\n\n    return instance;\n  }\n\n  __mountChildren(children, context) {\n    if (children == null) return children;\n\n    const nativeNode = this.__getNativeNode();\n    return this.__mountChildrenImpl(nativeNode, toArray(children), context);\n  }\n\n  __mountChildrenImpl(parent, children, context, nativeNodeMounter) {\n    let renderedChildren = this.__renderedChildren = {};\n\n    const renderedChildrenImage = [];\n    for (let i = 0, l = children.length; i < l; i++) {\n      const element = children[i];\n      const renderedChild = instantiateComponent(element);\n      const name = getElementKeyName(renderedChildren, element, i);\n      renderedChildren[name] = renderedChild;\n      renderedChild.__mountIndex = i;\n      // Mount children\n      const mountImage = renderedChild.__mountComponent(\n        parent,\n        this[INSTANCE],\n        context,\n        nativeNodeMounter\n      );\n      renderedChildrenImage.push(mountImage);\n    }\n\n    return renderedChildrenImage;\n  }\n\n  __unmountChildren(shouldNotRemoveChild) {\n    let renderedChildren = this.__renderedChildren;\n\n    if (renderedChildren) {\n      for (let name in renderedChildren) {\n        let renderedChild = renderedChildren[name];\n        renderedChild.unmountComponent(shouldNotRemoveChild);\n      }\n      this.__renderedChildren = null;\n    }\n  }\n\n  unmountComponent(shouldNotRemoveChild) {\n    if (this[NATIVE_NODE]) {\n      let ref = this.__currentElement.ref;\n      if (ref) {\n        detachRef(this.__currentElement._owner, ref, this);\n      }\n\n      Instance.remove(this[NATIVE_NODE]);\n\n      if (!shouldNotRemoveChild) {\n        Host.driver.removeChild(this[NATIVE_NODE], this._parent);\n      }\n    }\n\n    this.__unmountChildren(true);\n\n    this.__prevStyleCopy = null;\n    this.__destoryComponent();\n  }\n\n  __updateComponent(prevElement, nextElement, prevContext, nextContext) {\n    // Replace current element\n    this.__currentElement = nextElement;\n\n    updateRef(prevElement, nextElement, this);\n\n    let prevProps = prevElement.props;\n    let nextProps = nextElement.props;\n\n    this.__updateProperties(prevProps, nextProps);\n\n    // If the prevElement has no child, mount children directly\n    if (prevProps[CHILDREN] == null ||\n      isArray(prevProps[CHILDREN]) && prevProps[CHILDREN].length === 0) {\n      this.__mountChildren(nextProps[CHILDREN], nextContext);\n    } else {\n      this.__updateChildren(nextProps[CHILDREN], nextContext);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.reconciler.receiveComponent(this);\n    }\n  }\n\n  __updateProperties(prevProps, nextProps) {\n    let propKey;\n    let styleName;\n    let styleUpdates;\n    const driver = Host.driver;\n    const nativeNode = this.__getNativeNode();\n\n    for (propKey in prevProps) {\n      // Continue children and null value prop or nextProps has some propKey that do noting\n      if (\n        propKey === CHILDREN ||\n        prevProps[propKey] == null ||\n        // Use hasOwnProperty here for avoid propKey name is some with method name in object proptotype\n        nextProps.hasOwnProperty(propKey)\n      ) {\n        continue;\n      }\n\n      if (propKey === STYLE) {\n        // Remove all style\n        let lastStyle = this.__prevStyleCopy;\n        for (styleName in lastStyle) {\n          styleUpdates = styleUpdates || {};\n          styleUpdates[styleName] = '';\n        }\n        this.__prevStyleCopy = null;\n      } else if (EVENT_PREFIX_REGEXP.test(propKey)) {\n        // Remove event\n        const eventListener = prevProps[propKey];\n\n        if (isFunction(eventListener)) {\n          driver.removeEventListener(\n            nativeNode,\n            propKey.slice(2).toLowerCase(),\n            eventListener\n          );\n        }\n      } else {\n        // Remove attribute\n        driver.removeAttribute(\n          nativeNode,\n          propKey,\n          prevProps[propKey]\n        );\n      }\n    }\n\n    for (propKey in nextProps) {\n      let nextProp = nextProps[propKey];\n      let prevProp = propKey === STYLE ? this.__prevStyleCopy :\n        prevProps != null ? prevProps[propKey] : undefined;\n\n      // Continue children or prevProp equal nextProp\n      if (\n        propKey === CHILDREN ||\n        prevProp === nextProp ||\n        nextProp == null && prevProp == null\n      ) {\n        continue;\n      }\n\n      // Update style\n      if (propKey === STYLE) {\n        if (nextProp) {\n          // Clone property\n          nextProp = this.__prevStyleCopy = assign({}, nextProp);\n        } else {\n          this.__prevStyleCopy = null;\n        }\n\n        if (prevProp != null) {\n          // Unset styles on `prevProp` but not on `nextProp`.\n          for (styleName in prevProp) {\n            if (!nextProp || !nextProp[styleName] && nextProp[styleName] !== 0) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = '';\n            }\n          }\n          // Update styles that changed since `prevProp`.\n          for (styleName in nextProp) {\n            if (prevProp[styleName] !== nextProp[styleName]) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = nextProp[styleName];\n            }\n          }\n        } else {\n          // Assign next prop when prev style is null\n          styleUpdates = nextProp;\n        }\n      } else if (EVENT_PREFIX_REGEXP.test(propKey)) {\n        // Update event binding\n        let eventName = propKey.slice(2).toLowerCase();\n\n        if (isFunction(prevProp)) {\n          driver.removeEventListener(nativeNode, eventName, prevProp, nextProps);\n        }\n\n        if (isFunction(nextProp)) {\n          driver.addEventListener(nativeNode, eventName, nextProp, nextProps);\n        }\n      } else {\n        // Update other property\n        if (nextProp != null) {\n          driver.setAttribute(\n            nativeNode,\n            propKey,\n            nextProp\n          );\n        } else {\n          driver.removeAttribute(\n            nativeNode,\n            propKey,\n            prevProps[propKey]\n          );\n        }\n\n        if (process.env.NODE_ENV !== 'production') {\n          Host.measurer && Host.measurer.recordOperation({\n            instanceID: this._mountID,\n            type: 'update attribute',\n            payload: {\n              [propKey]: nextProp\n            }\n          });\n        }\n      }\n    }\n\n    if (styleUpdates) {\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.recordOperation({\n          instanceID: this._mountID,\n          type: 'update style',\n          payload: styleUpdates\n        });\n      }\n\n      driver.setStyle(nativeNode, styleUpdates);\n    }\n  }\n\n  __updateChildren(nextChildrenElements, context) {\n    // prev rendered children\n    let prevChildren = this.__renderedChildren;\n    let driver = Host.driver;\n\n    if (nextChildrenElements == null && prevChildren == null) {\n      return;\n    }\n\n    let nextChildren = {};\n\n    if (nextChildrenElements != null) {\n      nextChildrenElements = toArray(nextChildrenElements);\n\n      // Update next children elements\n      for (let index = 0, length = nextChildrenElements.length; index < length; index++) {\n        let nextElement = nextChildrenElements[index];\n        let name = getElementKeyName(nextChildren, nextElement, index);\n        let prevChild = prevChildren && prevChildren[name];\n        let prevElement = prevChild && prevChild.__currentElement;\n        let prevContext = prevChild && prevChild._context;\n\n        // Try to update between the two of some name that has some element type,\n        // and move child in next children loop if need\n        if (prevChild != null && shouldUpdateComponent(prevElement, nextElement)) {\n          if (prevElement !== nextElement || prevContext !== context) {\n            // Pass the same context when updating children\n            prevChild.__updateComponent(prevElement, nextElement, context,\n              context);\n          }\n\n          nextChildren[name] = prevChild;\n        } else {\n          // Unmount the prevChild when some name with nextChild but different element type,\n          // and move child node in next children loop\n          if (prevChild) {\n            prevChild.__unmount = true;\n          }\n          // The child must be instantiated before it's mounted.\n          nextChildren[name] = instantiateComponent(nextElement);\n        }\n      }\n    }\n\n    let parent = this.__getNativeNode();\n    let isFragmentParent = isArray(parent);\n    let prevFirstChild = null;\n    let prevFirstNativeNode = null;\n    let isPrevFirstEmptyFragment = false;\n    let shouldUnmountPrevFirstChild = false;\n    let lastPlacedNode = null;\n\n    // Directly remove all children from component, if nextChildren is empty (null, [], '').\n    // `driver.removeChildren` is optional driver protocol.\n    let shouldRemoveAllChildren = Boolean(\n      driver.removeChildren\n      // nextChildElements == null or nextChildElements is empty\n      && (isNull(nextChildrenElements) || nextChildrenElements && !nextChildrenElements.length)\n      // Fragment parent can not remove parentNode's all child nodes directly.\n      && !isFragmentParent\n    );\n\n    // Unmount children that are no longer present.\n    if (prevChildren != null) {\n      for (let name in prevChildren) {\n        let prevChild = prevChildren[name];\n        let shouldUnmount = prevChild.__unmount || !nextChildren[name];\n\n        // Store old first child ref for append node ahead and maybe delay remove it\n        if (!prevFirstChild) {\n          shouldUnmountPrevFirstChild = shouldUnmount;\n          prevFirstChild = prevChild;\n          prevFirstNativeNode = prevFirstChild.__getNativeNode();\n\n          if (isArray(prevFirstNativeNode)) {\n            isPrevFirstEmptyFragment = prevFirstNativeNode.length === 0;\n            prevFirstNativeNode = prevFirstNativeNode[0];\n          }\n        } else if (shouldUnmount) {\n          prevChild.unmountComponent(shouldRemoveAllChildren);\n        }\n      }\n\n      // 1. When fragment embed fragment updated but prev fragment is empty\n      // that need to get the prev sibling native node.\n      // like: [ [] ] -> [ [1, 2] ]\n      // 2. When prev fragment is empty and update to other type\n      // like: [ [], 1 ] -> [ 1, 2 ]\n      if (isFragmentParent && parent.length === 0 || isPrevFirstEmptyFragment) {\n        lastPlacedNode = getPrevSiblingNativeNode(this);\n      }\n    }\n\n\n    if (nextChildren != null) {\n      // `nextIndex` will increment for each child in `nextChildren`\n      let nextIndex = 0;\n\n      function insertNodes(nativeNodes, parentNode) {\n        // The nativeNodes maybe fragment, so convert to array type\n        nativeNodes = toArray(nativeNodes);\n\n        for (let i = 0, l = nativeNodes.length; i < l; i++) {\n          if (lastPlacedNode) {\n            // Should reverse order when insert new child after lastPlacedNode:\n            // [lastPlacedNode, *newChild1, *newChild2],\n            // And if prev is empty fragment, lastPlacedNode is the prevSiblingNativeNode found.\n            driver.insertAfter(nativeNodes[l - 1 - i], lastPlacedNode);\n          } else if (prevFirstNativeNode) {\n            // [*newChild1, *newChild2, prevFirstNativeNode]\n            driver.insertBefore(nativeNodes[i], prevFirstNativeNode);\n          } else if (parentNode) {\n            // [*newChild1, *newChild2]\n            driver.appendChild(nativeNodes[i], parentNode);\n          }\n        }\n      }\n\n      for (let name in nextChildren) {\n        let nextChild = nextChildren[name];\n        let prevChild = prevChildren && prevChildren[name];\n\n        // Try to move the some key prevChild but current not at the some position\n        if (prevChild === nextChild) {\n          let prevChildNativeNode = prevChild.__getNativeNode();\n\n          if (prevChild.__mountIndex !== nextIndex) {\n            insertNodes(prevChildNativeNode);\n          }\n        } else {\n          // Mount nextChild that in prevChildren there has no some name\n\n          // Fragment extended native component, so if parent is fragment should get this._parent\n          if (isFragmentParent) {\n            parent = this._parent;\n          }\n\n          nextChild.__mountComponent(\n            parent,\n            this[INSTANCE],\n            context,\n            insertNodes // Insert nodes mounter\n          );\n        }\n\n        // Update to the latest mount order\n        nextChild.__mountIndex = nextIndex++;\n\n        // Get the last child\n        lastPlacedNode = nextChild.__getNativeNode();\n\n        if (isArray(lastPlacedNode)) {\n          lastPlacedNode = lastPlacedNode[lastPlacedNode.length - 1];\n        }\n      }\n    }\n\n    if (shouldUnmountPrevFirstChild) {\n      prevFirstChild.unmountComponent(shouldRemoveAllChildren);\n    }\n\n    if (shouldRemoveAllChildren) {\n      driver.removeChildren(this[NATIVE_NODE]);\n    }\n\n    this.__renderedChildren = nextChildren;\n  }\n\n  __createNativeNode() {\n    const instance = this[INSTANCE];\n    const nativeNode = Host.driver.createElement(instance.type, instance.props, this);\n    Instance.set(nativeNode, instance);\n    return nativeNode;\n  }\n}\n","import Host from './host';\nimport BaseComponent from './base';\n\n/**\n * Text Component\n */\nclass TextComponent extends BaseComponent {\n  __updateComponent(prevElement, nextElement, context) {\n    nextElement = '' + nextElement;\n    // If text is some value that do not update even there number 1 and string \"1\"\n    if (prevElement !== nextElement) {\n      // Replace current element\n      this.__currentElement = nextElement;\n      Host.driver.updateText(this.__getNativeNode(), nextElement);\n\n      if (process.env.NODE_ENV !== 'production') {\n        this._stringText = this.__currentElement;\n        Host.reconciler.receiveComponent(this);\n      }\n    }\n  }\n\n  __createNativeNode() {\n    if (process.env.NODE_ENV !== 'production') {\n      this._stringText = this.__currentElement;\n    }\n    return Host.driver.createText(this.__currentElement, this);\n  }\n}\n\nexport default TextComponent;\n","import Host from './host';\nimport Component from './component';\nimport invokeFunctionsWithContext from '../invokeFunctionsWithContext';\nimport { throwMinifiedError } from '../error';\nimport { INTERNAL } from '../constant';\nimport { EMPTY_OBJECT } from '../types';\n\nconst RE_RENDER_LIMIT = 24;\n/**\n * Functional Reactive Component Class Wrapper\n */\nexport default class ReactiveComponent extends Component {\n  constructor(pureRender, ref) {\n    super();\n    // Marked ReactiveComponent.\n    this.__isReactiveComponent = true;\n    // A pure function\n    this.__render = pureRender;\n    this.__hookID = 0;\n    // Number of rerenders\n    this.__reRenders = 0;\n    this.__hooks = {};\n    // Is render scheduled\n    this.__isScheduled = false;\n    this.__shouldUpdate = false;\n    this.__children = null;\n    this.__contexts = {};\n    // Handles store\n    this.didMount = [];\n    this.didUpdate = [];\n    this.willUnmount = [];\n\n    this.state = EMPTY_OBJECT;\n\n    if (pureRender._forwardRef) {\n      this.__prevForwardRef = this._forwardRef = ref;\n    }\n\n    const compares = pureRender.__compares;\n    if (compares) {\n      this.shouldComponentUpdate = (nextProps) => {\n        // Process composed compare\n        let arePropsEqual = true;\n\n        // Compare push in and pop out\n        for (let i = compares.length - 1; i > -1; i--) {\n          if (arePropsEqual = compares[i](this.props, nextProps)) {\n            break;\n          }\n        }\n\n        return !arePropsEqual || this.__prevForwardRef !== this._forwardRef;\n      };\n    }\n  }\n\n  getHooks() {\n    return this.__hooks;\n  }\n\n  getHookID() {\n    return ++this.__hookID;\n  }\n\n  useContext(context) {\n    const contextID = context._contextID;\n    let contextItem = this.__contexts[contextID];\n    if (!contextItem) {\n      const provider = context.__getNearestParentProvider(this);\n      contextItem = this.__contexts[contextID] = {\n        __provider: provider\n      };\n\n      if (provider) {\n        const handleContextChange = (value) => {\n          // Check the last value that maybe alread rerender\n          // avoid rerender twice when provider value changed\n          if (contextItem.__lastValue !== value) {\n            this.__shouldUpdate = true;\n            this.__update();\n          }\n        };\n        provider.__on(handleContextChange);\n        this.willUnmount.push(() => provider.__off(handleContextChange));\n      }\n    }\n\n    return contextItem.__lastValue = contextItem.__provider ?\n      contextItem.__provider.getValue() : context._defaultValue;\n  }\n\n  componentWillMount() {\n    this.__shouldUpdate = true;\n  }\n\n  componentDidMount() {\n    invokeFunctionsWithContext(this.didMount);\n  }\n\n  componentWillReceiveProps() {\n    this.__shouldUpdate = true;\n  }\n\n  componentDidUpdate() {\n    invokeFunctionsWithContext(this.didUpdate);\n  }\n\n  componentWillUnmount() {\n    invokeFunctionsWithContext(this.willUnmount);\n  }\n\n  __update() {\n    this.setState(EMPTY_OBJECT);\n  }\n\n  render() {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeRender();\n    }\n\n    this.__hookID = 0;\n    this.__reRenders = 0;\n    this.__isScheduled = false;\n    let children = this.__render(this.props, this._forwardRef ? this._forwardRef : this.context);\n\n    while (this.__isScheduled) {\n      this.__reRenders++;\n      if (this.__reRenders > RE_RENDER_LIMIT) {\n        if (process.env.NODE_ENV !== 'production') {\n          throw new Error('Too many re-renders, the number of renders is limited to prevent an infinite loop.');\n        } else {\n          throwMinifiedError(4);\n        }\n      }\n\n      this.__hookID = 0;\n      this.__isScheduled = false;\n      children = this.__render(this.props, this._forwardRef ? this._forwardRef : this.context);\n    }\n\n    if (this.__shouldUpdate) {\n      this.__children = children;\n      this.__shouldUpdate = false;\n    }\n\n    return this.__children;\n  }\n}\n","import Host from './host';\nimport { flushEffect, schedule, flushLayout } from './scheduler';\nimport { INTERNAL, RENDERED_COMPONENT } from '../constant';\n\n// Dirty components store\nlet dirtyComponents = [];\n\nfunction getPendingCallbacks(internal) {\n  return internal.__pendingCallbacks;\n}\n\nfunction setPendingCallbacks(internal, callbacks) {\n  return internal.__pendingCallbacks = callbacks;\n}\n\nfunction getPendingStateQueue(internal) {\n  return internal.__pendingStateQueue;\n}\n\nfunction setPendingStateQueue(internal, partialState) {\n  return internal.__pendingStateQueue = partialState;\n}\n\nfunction enqueueCallback(internal, callback) {\n  let callbackQueue = getPendingCallbacks(internal) || setPendingCallbacks(internal, []);\n  callbackQueue.push(callback);\n}\n\nfunction enqueueState(internal, partialState) {\n  let stateQueue = getPendingStateQueue(internal) || setPendingStateQueue(internal, []);\n  stateQueue.push(partialState);\n}\n\nfunction runUpdate(component) {\n  let internal = component[INTERNAL];\n  if (!internal) {\n    return;\n  }\n\n  Host.__isUpdating = true;\n\n  let prevElement = internal.__currentElement;\n  let prevUnmaskedContext = internal._context;\n  let nextUnmaskedContext = internal.__penddingContext || prevUnmaskedContext;\n  internal.__penddingContext = undefined;\n\n  if (getPendingStateQueue(internal) || internal.__isPendingForceUpdate) {\n    internal.__updateComponent(\n      prevElement,\n      prevElement,\n      prevUnmaskedContext,\n      nextUnmaskedContext\n    );\n\n    flushLayout();\n  }\n\n  Host.__isUpdating = false;\n}\n\nfunction mountOrderComparator(c1, c2) {\n  return c2[INTERNAL]._mountID - c1[INTERNAL]._mountID;\n}\n\nfunction performUpdate() {\n  if (Host.__isUpdating) {\n    return schedule(performUpdate);\n  }\n\n  let component;\n  let dirties = dirtyComponents;\n  if (dirties.length > 0) {\n    // Before next render, we will flush all the effects\n    flushEffect();\n    dirtyComponents = [];\n    // Since reconciling a component higher in the owner hierarchy usually (not\n    // always -- see shouldComponentUpdate()) will reconcile children, reconcile\n    // them before their children by sorting the array.\n    if (dirties.length > 1) {\n      dirties = dirties.filter(c => !!c[INTERNAL]).sort(mountOrderComparator);\n    }\n\n    while (component = dirties.pop()) {\n      runUpdate(component);\n    }\n  }\n}\n\nfunction scheduleUpdate(component, shouldAsyncUpdate) {\n  if (dirtyComponents.indexOf(component) < 0) {\n    dirtyComponents.push(component);\n  }\n\n  if (shouldAsyncUpdate) {\n    // If have been scheduled before, do not need schedule again\n    if (dirtyComponents.length > 1) {\n      return;\n    }\n    schedule(performUpdate);\n  } else {\n    performUpdate();\n  }\n}\n\nfunction requestUpdate(component, partialState, callback) {\n  let internal = component[INTERNAL];\n\n  if (!internal) {\n    if (process.env.NODE_ENV !== 'production') {\n      // Block other render\n      Host.__isUpdating = false;\n      console.error(\n        \"Warning: Can't perform a Rax state update on an unmounted component. This \" +\n          'is a no-op, but it indicates a memory leak in your application. To ' +\n          'fix, cancel all subscriptions and asynchronous tasks in %s.',\n        component.__isReactiveComponent\n          ? 'a useEffect cleanup function'\n          : 'the componentWillUnmount method',\n      );\n    }\n    return;\n  }\n\n  if (callback) {\n    enqueueCallback(internal, callback);\n  }\n\n  const hasComponentRendered = internal[RENDERED_COMPONENT];\n\n  // setState\n  if (partialState) {\n    // Function Component should force update\n    if (component.__isReactiveComponent) {\n      internal.__isPendingForceUpdate = true;\n    }\n    enqueueState(internal, partialState);\n    // State pending when request update in componentWillMount and componentWillReceiveProps,\n    // isPendingState default is false value (false or null) and set to true after componentWillReceiveProps,\n    // _renderedComponent is null when componentWillMount exec.\n    if (!internal.__isPendingState && hasComponentRendered) {\n      scheduleUpdate(component, true);\n    }\n  } else {\n    // forceUpdate\n    internal.__isPendingForceUpdate = true;\n\n    if (hasComponentRendered) {\n      scheduleUpdate(component);\n    }\n  }\n}\n\nconst Updater = {\n  setState(component, partialState, callback) {\n    // Flush all effects first before update state\n    if (!Host.__isUpdating) {\n      flushEffect();\n    }\n    requestUpdate(component, partialState, callback);\n  },\n  forceUpdate(component, callback) {\n    requestUpdate(component, null, callback);\n  }\n};\n\nexport default Updater;\n","import getNearestParent from './getNearestParent';\nimport { scheduler, scheduleLayout } from './scheduler';\nimport { INTERNAL } from '../constant';\n\nexport default function performInSandbox(fn, instance, callback) {\n  try {\n    return fn();\n  } catch (e) {\n    if (callback) {\n      callback(e);\n    } else {\n      handleError(instance, e);\n    }\n  }\n}\n\n/**\n * A class component becomes an error boundary if\n * it defines either (or both) of the lifecycle methods static getDerivedStateFromError() or componentDidCatch().\n * Use static getDerivedStateFromError() to render a fallback UI after an error has been thrown.\n * Use componentDidCatch() to log error information.\n * @param {*} instance\n * @param {*} error\n */\nexport function handleError(instance, error) {\n  let boundary = getNearestParent(instance, parent => {\n    return parent.componentDidCatch || parent.constructor && parent.constructor.getDerivedStateFromError;\n  });\n\n  if (boundary) {\n    scheduleLayout(() => {\n      const boundaryInternal = boundary[INTERNAL];\n      // Should not attempt to recover an unmounting error boundary\n      if (boundaryInternal) {\n        performInSandbox(() => {\n          if (boundary.componentDidCatch) {\n            boundary.componentDidCatch(error);\n          }\n\n          // Update state to the next render to show the fallback UI.\n          if (boundary.constructor && boundary.constructor.getDerivedStateFromError) {\n            const state = boundary.constructor.getDerivedStateFromError(error);\n            boundary.setState(state);\n          }\n        }, boundaryInternal.__parentInstance);\n      }\n    });\n  } else {\n    // Do not break when error happens\n    scheduler(() => {\n      throw error;\n    }, 0);\n  }\n}\n","import ReactiveComponent from './reactive';\nimport updater from './updater';\nimport Host from './host';\nimport { attachRef, updateRef, detachRef } from './ref';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport shallowEqual from './shallowEqual';\nimport BaseComponent from './base';\nimport getPrevSiblingNativeNode from './getPrevSiblingNativeNode';\nimport performInSandbox from './performInSandbox';\nimport toArray from '../toArray';\nimport { scheduleLayout } from './scheduler';\nimport { isFunction, isArray } from '../types';\nimport assign from '../assign';\nimport { INSTANCE, INTERNAL, RENDERED_COMPONENT } from '../constant';\nimport invokeFunctionsWithContext from '../invokeFunctionsWithContext';\nimport validateChildKeys from '../validateChildKeys';\nimport { throwError, throwMinifiedError } from '../error';\n\nlet measureLifeCycle;\nif (process.env.NODE_ENV !== 'production') {\n  measureLifeCycle = function(callback, instanceID, type) {\n    Host.measurer && Host.measurer.beforeLifeCycle(instanceID, type);\n    callback();\n    Host.measurer && Host.measurer.afterLifeCycle(instanceID, type);\n  };\n}\n\nfunction scheduleLayoutInSandbox(fn, instance) {\n  scheduleLayout(() => {\n    performInSandbox(fn, instance);\n  });\n}\n\nfunction scheduleLayoutCallbacksInSandbox(callbacks, instance) {\n  if (callbacks) {\n    scheduleLayoutInSandbox(() => {\n      invokeFunctionsWithContext(callbacks, instance);\n    }, instance);\n  }\n}\n\n/**\n * Composite Component\n */\nclass CompositeComponent extends BaseComponent {\n  __mountComponent(parent, parentInstance, context, nativeNodeMounter) {\n    this.__initComponent(parent, parentInstance, context);\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._updateCount = 0;\n      Host.measurer && Host.measurer.beforeMountComponent(this._mountID, this);\n    }\n\n    let currentElement = this.__currentElement;\n    let Component = currentElement.type;\n    let ref = currentElement.ref;\n    let publicProps = currentElement.props;\n    let componentPrototype = Component.prototype;\n\n    // Context process\n    let publicContext = this.__processContext(context);\n\n    // Initialize the public class\n    let instance;\n    let renderedElement;\n\n    performInSandbox(() => {\n      if (componentPrototype && componentPrototype.render) {\n        // Class Component instance\n        instance = new Component(publicProps, publicContext);\n      } else if (isFunction(Component)) {\n        // Functional reactive component with hooks\n        instance = new ReactiveComponent(Component, ref);\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          throwError('Invalid component type, expected a class or function component.', Component);\n        } else {\n          throwMinifiedError(6, Component);\n        }\n      }\n    }, parentInstance);\n\n    if (!instance) {\n      return;\n    }\n\n    // These should be set up in the constructor, but as a convenience for\n    // simpler class abstractions, we set them up after the fact.\n    instance.props = publicProps;\n    instance.context = publicContext;\n    instance.refs = {};\n\n    // Inject the updater into instance\n    instance.updater = updater;\n    instance[INTERNAL] = this;\n    this[INSTANCE] = instance;\n\n    // Init state, must be set to an object or null\n    let initialState = instance.state;\n    if (initialState === undefined) {\n      // TODO clone the state?\n      instance.state = initialState = null;\n    }\n\n    if (instance.componentWillMount) {\n      performInSandbox(() => {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            instance.componentWillMount();\n          }, this._mountID, 'componentWillMount');\n        } else {\n          instance.componentWillMount();\n        }\n      }, instance);\n    }\n\n    Host.owner = this;\n    // Process pending state when call setState in componentWillMount\n    instance.state = this.__processPendingState(publicProps, publicContext);\n    const callbacks = this.__pendingCallbacks;\n    this.__pendingCallbacks = null;\n\n    performInSandbox(() => {\n      if (process.env.NODE_ENV !== 'production') {\n        measureLifeCycle(() => {\n          renderedElement = instance.render();\n        }, this._mountID, 'render');\n      } else {\n        renderedElement = instance.render();\n      }\n    }, instance);\n\n    if (process.env.NODE_ENV !== 'production') {\n      validateChildKeys(renderedElement, this.__currentElement.type);\n    }\n\n    Host.owner = null;\n\n    this[RENDERED_COMPONENT] = instantiateComponent(renderedElement);\n    this[RENDERED_COMPONENT].__mountComponent(\n      this._parent,\n      instance,\n      this.__processChildContext(context),\n      nativeNodeMounter\n    );\n\n    if (!currentElement.type._forwardRef && ref) {\n      attachRef(currentElement._owner, ref, this);\n    }\n\n    if (instance.componentDidMount) {\n      scheduleLayoutInSandbox(() => {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            instance.componentDidMount();\n          }, this._mountID, 'componentDidMount');\n        } else {\n          instance.componentDidMount();\n        }\n      }, instance);\n    }\n\n    // Trigger setState callback\n    scheduleLayoutCallbacksInSandbox(callbacks, instance);\n\n    if (process.env.NODE_ENV !== 'production') {\n      scheduleLayout(() => {\n        Host.reconciler.mountComponent(this);\n        Host.measurer && Host.measurer.afterMountComponent(this._mountID);\n      });\n    }\n\n    return instance;\n  }\n\n  unmountComponent(shouldNotRemoveChild) {\n    let instance = this[INSTANCE];\n\n    // Unmounting a composite component maybe not complete mounted\n    // when throw error in component constructor stage\n    if (instance && instance.componentWillUnmount) {\n      performInSandbox(() => {\n        instance.componentWillUnmount();\n      }, instance);\n    }\n\n    if (this[RENDERED_COMPONENT] != null) {\n      let currentElement = this.__currentElement;\n      let ref = currentElement.ref;\n\n      if (!currentElement.type._forwardRef && ref) {\n        detachRef(currentElement._owner, ref, this);\n      }\n\n      this[RENDERED_COMPONENT].unmountComponent(shouldNotRemoveChild);\n      this[RENDERED_COMPONENT] = null;\n    }\n\n    // Reset pending fields\n    // Even if this component is scheduled for another async update,\n    // it would still be ignored because these fields are reset.\n    this.__pendingStateQueue = null;\n    this.__isPendingForceUpdate = false;\n\n    this.__destoryComponent();\n  }\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`\n   */\n  __processContext(context) {\n    let maskedContext = {};\n    let Component = this.__currentElement.type;\n    let contextTypes = Component.contextTypes;\n\n    if (contextTypes) {\n      for (let contextName in contextTypes) {\n        maskedContext[contextName] = context[contextName];\n      }\n    }\n\n    return maskedContext;\n  }\n\n  __processChildContext(currentContext) {\n    let instance = this[INSTANCE];\n    // The getChildContext method context should be current instance\n    let childContext = instance.getChildContext && instance.getChildContext();\n    if (childContext) {\n      return assign({}, currentContext, childContext);\n    }\n\n    return currentContext;\n  }\n\n  __processPendingState(props, context) {\n    let instance = this[INSTANCE];\n    let queue = this.__pendingStateQueue;\n    if (!queue) {\n      return instance.state;\n    }\n    // Reset pending queue\n    this.__pendingStateQueue = null;\n    let nextState = assign({}, instance.state);\n    for (let i = 0; i < queue.length; i++) {\n      let partial = queue[i];\n      assign(\n        nextState,\n        isFunction(partial) ?\n          partial.call(instance, nextState, props, context) :\n          partial\n      );\n    }\n\n    return nextState;\n  }\n\n  __updateComponent(\n    prevElement,\n    nextElement,\n    prevUnmaskedContext,\n    nextUnmaskedContext\n  ) {\n    let instance = this[INSTANCE];\n\n    // Maybe update component that has already been unmounted or failed mount.\n    if (!instance) {\n      return;\n    }\n\n    performInSandbox(() => {\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.beforeUpdateComponent(this._mountID, this);\n      }\n\n      let willReceive;\n      let nextContext;\n      let nextProps;\n\n      // Determine if the context has changed or not\n      if (this._context === nextUnmaskedContext) {\n        nextContext = instance.context;\n      } else {\n        nextContext = this.__processContext(nextUnmaskedContext);\n        willReceive = true;\n      }\n\n      // Distinguish between a props update versus a simple state update\n      // Skip checking prop types again -- we don't read component.props to avoid\n      // warning for DOM component props in this upgrade\n      nextProps = nextElement.props;\n\n      if (prevElement !== nextElement) {\n        willReceive = true;\n      }\n\n      if (willReceive && instance.componentWillReceiveProps) {\n        // Calling this.setState() within componentWillReceiveProps will not trigger an additional render.\n        this.__isPendingState = true;\n        instance.componentWillReceiveProps(nextProps, nextContext);\n        this.__isPendingState = false;\n      }\n\n      // Update refs\n      if (this.__currentElement.type._forwardRef) {\n        instance.__prevForwardRef = prevElement.ref;\n        instance._forwardRef = nextElement.ref;\n      } else {\n        updateRef(prevElement, nextElement, this);\n      }\n\n      // Shoud update default\n      let shouldUpdate = true;\n      let prevProps = instance.props;\n      let prevState = instance.state;\n      // TODO: could delay execution processPendingState\n      let nextState = this.__processPendingState(nextProps, nextContext);\n      const callbacks = this.__pendingCallbacks;\n      this.__pendingCallbacks = null;\n\n      // ShouldComponentUpdate is not called when forceUpdate is used\n      if (!this.__isPendingForceUpdate) {\n        if (instance.shouldComponentUpdate) {\n          shouldUpdate = instance.shouldComponentUpdate(nextProps, nextState, nextContext);\n        } else if (instance.__isPureComponent) {\n          // Pure Component\n          shouldUpdate = !shallowEqual(prevProps, nextProps) ||\n            !shallowEqual(prevState, nextState);\n        }\n      }\n\n      if (shouldUpdate) {\n        this.__isPendingForceUpdate = false;\n        // Will set `this.props`, `this.state` and `this.context`.\n        let prevContext = instance.context;\n\n        // Cannot use this.setState() in componentWillUpdate.\n        // If need to update state in response to a prop change, use componentWillReceiveProps instead.\n        if (instance.componentWillUpdate) {\n          instance.componentWillUpdate(nextProps, nextState, nextContext);\n        }\n\n        // Replace with next\n        this.__currentElement = nextElement;\n        this._context = nextUnmaskedContext;\n        instance.props = nextProps;\n        instance.state = nextState;\n        instance.context = nextContext;\n\n        this.__updateRenderedComponent(nextUnmaskedContext);\n\n        if (instance.componentDidUpdate) {\n          scheduleLayoutInSandbox(() => {\n            instance.componentDidUpdate(prevProps, prevState, prevContext);\n          }, instance);\n        }\n\n        if (process.env.NODE_ENV !== 'production') {\n          // Calc update count.\n          this._updateCount++;\n        }\n      } else {\n        // If it's determined that a component should not update, we still want\n        // to set props and state but we shortcut the rest of the update.\n        this.__currentElement = nextElement;\n        this._context = nextUnmaskedContext;\n        instance.props = nextProps;\n        instance.state = nextState;\n        instance.context = nextContext;\n      }\n\n      scheduleLayoutCallbacksInSandbox(callbacks, instance);\n\n      if (process.env.NODE_ENV !== 'production') {\n        scheduleLayout(() => {\n          Host.measurer && Host.measurer.afterUpdateComponent(this._mountID);\n          Host.reconciler.receiveComponent(this);\n        });\n      }\n    }, instance);\n  }\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   */\n  __updateRenderedComponent(context) {\n    let prevRenderedComponent = this[RENDERED_COMPONENT];\n    let prevRenderedElement = prevRenderedComponent.__currentElement;\n\n    let instance = this[INSTANCE];\n    let nextRenderedElement;\n\n    Host.owner = this;\n\n    if (process.env.NODE_ENV !== 'production') {\n      measureLifeCycle(() => {\n        nextRenderedElement = instance.render();\n      }, this._mountID, 'render');\n    } else {\n      nextRenderedElement = instance.render();\n    }\n\n    Host.owner = null;\n\n    if (shouldUpdateComponent(prevRenderedElement, nextRenderedElement)) {\n      const prevRenderedUnmaskedContext = prevRenderedComponent._context;\n      const nextRenderedUnmaskedContext = this.__processChildContext(context);\n      // If getChildContext existed and invoked when component updated that will make\n      // prevRenderedUnmaskedContext not equal nextRenderedUnmaskedContext under the tree\n      if (prevRenderedElement !== nextRenderedElement || prevRenderedUnmaskedContext !== nextRenderedUnmaskedContext) {\n        // If element type is illegal catch the error\n        prevRenderedComponent.__updateComponent(\n          prevRenderedElement,\n          nextRenderedElement,\n          prevRenderedUnmaskedContext,\n          nextRenderedUnmaskedContext\n        );\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.recordOperation({\n          instanceID: this._mountID,\n          type: 'update component',\n          payload: {}\n        });\n      }\n    } else {\n      let lastNativeNode = null;\n      let prevNativeNode = prevRenderedComponent.__getNativeNode();\n      // Only prevNativeNode is empty fragment should find the prevSlibingNativeNode\n      // And current root component is fragment, but not need find the prevSlibingNativeNode when init mounting\n      if (isArray(prevNativeNode) && prevNativeNode.length === 0 && instance.__rootID == null) {\n        lastNativeNode = getPrevSiblingNativeNode(prevRenderedComponent);\n      }\n\n      prevRenderedComponent.unmountComponent(true);\n\n      this[RENDERED_COMPONENT] = instantiateComponent(nextRenderedElement);\n      this[RENDERED_COMPONENT].__mountComponent(\n        this._parent,\n        instance,\n        this.__processChildContext(context),\n        (newNativeNode, parent) => {\n          const driver = Host.driver;\n\n          prevNativeNode = toArray(prevNativeNode);\n          newNativeNode = toArray(newNativeNode);\n\n          // If the new length large then prev\n          for (let i = 0; i < newNativeNode.length; i++) {\n            let nativeNode = newNativeNode[i];\n            if (prevNativeNode[i]) {\n              driver.replaceChild(nativeNode, prevNativeNode[i]);\n            } else if (lastNativeNode) {\n              driver.insertAfter(nativeNode, lastNativeNode);\n            } else {\n              driver.appendChild(nativeNode, parent);\n            }\n            lastNativeNode = nativeNode;\n          }\n\n          // If the new length less then prev\n          for (let i = newNativeNode.length; i < prevNativeNode.length; i++) {\n            driver.removeChild(prevNativeNode[i]);\n          }\n        }\n      );\n    }\n  }\n\n  __getNativeNode() {\n    let renderedComponent = this[RENDERED_COMPONENT];\n    if (renderedComponent) {\n      return renderedComponent.__getNativeNode();\n    }\n  }\n\n  __getPublicInstance() {\n    let instance = this[INSTANCE];\n\n    // The functional components cannot be given refs\n    if (instance.__isReactiveComponent) return null;\n\n    return instance;\n  }\n}\n\nexport default CompositeComponent;\n","import Host from './host';\nimport NativeComponent from './native';\nimport toArray from '../toArray';\nimport { INSTANCE, INTERNAL, NATIVE_NODE } from '../constant';\n\n/**\n * Fragment Component\n */\nclass FragmentComponent extends NativeComponent {\n  __mountComponent(parent, parentInstance, context, nativeNodeMounter) {\n    this.__initComponent(parent, parentInstance, context);\n\n    let instance = this[INSTANCE] = {};\n    instance[INTERNAL] = this;\n\n    const fragment = [];\n    this.__mountChildrenImpl(this._parent, this.__currentElement, context, (nativeNode) => {\n      nativeNode = toArray(nativeNode);\n      for (let i = 0; i < nativeNode.length; i++) {\n        fragment.push(nativeNode[i]);\n      }\n    });\n    if (nativeNodeMounter) {\n      nativeNodeMounter(fragment, parent);\n    } else {\n      for (let i = 0; i < fragment.length; i++) {\n        Host.driver.appendChild(fragment[i], parent);\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      this.__currentElement.type = FragmentComponent;\n      Host.reconciler.mountComponent(this);\n    }\n\n    return instance;\n  }\n\n  unmountComponent(shouldNotRemoveChild) {\n    if (!shouldNotRemoveChild) {\n      const nativeNode = this.__getNativeNode();\n      for (let i = 0, l = nativeNode.length; i < l; i++) {\n        Host.driver.removeChild(nativeNode[i]);\n      }\n    }\n\n    // Do not need remove child when their parent is removed\n    this.__unmountChildren(true);\n    this.__destoryComponent();\n  }\n\n  __updateComponent(prevElement, nextElement, prevContext, nextContext) {\n    // Replace current element\n    this.__currentElement = nextElement;\n    this.__updateChildren(this.__currentElement, nextContext);\n\n    if (process.env.NODE_ENV !== 'production') {\n      this.__currentElement.type = FragmentComponent;\n      Host.reconciler.receiveComponent(this);\n    }\n  }\n\n  __getNativeNode() {\n    const renderedChildren = this.__renderedChildren || {};\n    return [].concat.apply([], Object.keys(renderedChildren).map(key => renderedChildren[key].__getNativeNode()));\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  FragmentComponent.displayName = 'Fragment';\n}\n\nexport default FragmentComponent;\n","export default {\n  // Stubs - DevTools expects to find these methods and replace them\n  // with wrappers in order to observe components being mounted, updated and\n  // unmounted\n  mountComponent() {},\n  receiveComponent() {},\n  unmountComponent() {},\n  // Stub - DevTools expects to find this method and replace it\n  // with a wrapper in order to observe new root components being added\n  renderNewRootComponent() {},\n};\n","import Host from './host';\nimport EmptyComponent from './empty';\nimport NativeComponent from './native';\nimport TextComponent from './text';\nimport CompositeComponent from './composite';\nimport FragmentComponent from './fragment';\nimport reconciler from '../devtools/reconciler';\nimport { throwError, throwMinifiedError } from '../error';\n\nexport default function inject({ driver, measurer }) {\n  // Inject component class\n  Host.__Empty = EmptyComponent;\n  Host.__Native = NativeComponent;\n  Host.__Text = TextComponent;\n  Host.__Fragment = FragmentComponent;\n  Host.__Composite = CompositeComponent;\n\n  // Inject render driver\n  if (!(Host.driver = driver || Host.driver)) {\n    if (process.env.NODE_ENV !== 'production') {\n      throwError('Rax driver not found.');\n    } else {\n      throwMinifiedError(5);\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    // Inject devtool renderer hook\n    Host.reconciler = reconciler;\n\n    // Inject performance measurer\n    Host.measurer = measurer;\n  }\n}\n","import inject from './vdom/inject';\nimport Instance from './vdom/instance';\nimport { isFunction, EMPTY_OBJECT } from './types';\n\nfunction render(element, container, options, callback) {\n  // Compatible with `render(element, container, callback)`\n  if (isFunction(options)) {\n    callback = options;\n    options = null;\n  }\n\n  options = options || EMPTY_OBJECT;\n  // Init inject\n  inject(options);\n\n  let rootComponent = Instance.mount(element, container, options);\n  let componentInstance = rootComponent.__getPublicInstance();\n\n  if (callback) {\n    callback.call(componentInstance);\n  }\n\n  return componentInstance;\n}\n\nexport default render;\n","export default process.env.RAX_VERSION;\n","import Instance from '../vdom/instance';\nimport Host from '../vdom/host';\nimport Reconciler from './reconciler';\nimport { RENDERED_COMPONENT } from '../constant';\n\nconst DevtoolsHook = {\n  ComponentTree: {\n    getClosestInstanceFromNode(node) {\n      return Instance.get(node);\n    },\n    getNodeFromInstance(inst) {\n      // inst is an internal instance (but could be a composite)\n      while (inst[RENDERED_COMPONENT]) {\n        inst = inst[RENDERED_COMPONENT];\n      }\n\n      if (inst) {\n        return inst._nativeNode;\n      } else {\n        return null;\n      }\n    }\n  },\n  Mount: {\n    get _instancesByReactRootID() {\n      const rootComponents = {};\n\n      // Ignore display top-level root component\n      for (let rootID in Host.rootComponents) {\n        rootComponents[rootID] = Host.rootComponents[rootID][RENDERED_COMPONENT];\n      }\n\n      return rootComponents;\n    },\n\n    _renderNewRootComponent: Reconciler.renderNewRootComponent\n  },\n  Reconciler,\n  // monitor the info of all components\n  monitor: null\n};\n\nexport default DevtoolsHook;\n","export createElement from './createElement';\nexport createContext from './createContext';\nexport createRef from './createRef';\nexport forwardRef from './forwardRef';\nexport { useState, useContext, useEffect, useLayoutEffect, useRef, useCallback, useMemo, useReducer, useImperativeHandle } from './hooks';\nexport memo from './memo';\nexport Fragment from './fragment';\nexport render from './render';\nexport Component, { PureComponent } from './vdom/component';\nexport version from './version';\n\nimport Host from './vdom/host';\nimport Instance from './vdom/instance';\nimport Element from './vdom/element';\nimport flattenChildren from './vdom/flattenChildren';\nimport DevtoolsHook from './devtools/index';\n\nexport const shared = {\n  Host,\n  Instance,\n  Element,\n  flattenChildren\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  /* global __RAX_DEVTOOLS_GLOBAL_HOOK__ */\n  if (typeof __RAX_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n    typeof __RAX_DEVTOOLS_GLOBAL_HOOK__.inject === 'function') {\n    __RAX_DEVTOOLS_GLOBAL_HOOK__.inject(DevtoolsHook);\n  }\n\n  if (typeof window !== 'undefined') {\n    if (window.__RAX_INITIALISED__) {\n      console.error('Warning: more than one instance of Rax has been initialised, this could lead to unexpected behaviour.');\n    }\n    window.__RAX_INITIALISED__ = true;\n  }\n}\n"],"names":["__mountID","__isUpdating","driver","rootComponents","rootInstances","owner","ReactPropTypesSecret","require$$0","Element","type","key","ref","props","element","_owner","propTypes","displayName","name","checkPropTypes","Object","defineProperty","configurable","enumerable","writable","value","freeze","isNull","obj","isFunction","isObject","isPlainObject","EMPTY_OBJECT","toString","call","isArray","array","Array","isString","string","isNumber","NOOP","traverseChildren","children","result","i","l","length","push","flattenChildren","updateCallbacks","effectCallbacks","layoutCallbacks","scheduler","setTimeout","callback","invokeFunctionsWithClear","callbacks","shift","schedule","flush","scheduleEffect","flushEffect","scheduleLayout","flushLayout","createMinifiedError","code","typeInfo","undefined","getTypeInfo","Error","getRenderErrorInfo","keys","ownerComponent","Host","__getName","throwMinifiedError","throwError","message","warning","template","args","console","argsWithFormat","map","item","unshift","Function","prototype","apply","error","argIndex","replace","e","ownerHasKeyUseWarning","getCurrentComponentErrorInfo","parentType","info","parentName","isValidElement","object","validateExplicitKey","__validated","currentComponentErrorInfo","childOwner","validateChildKeys","node","child","RESERVED_PROPS","createElement","config","propName","childrenLength","arguments","childArray","defaultProps","invokeFunctionsWithContext","fns","context","hasOwnProperty","is","x","y","shallowEqual","objA","objB","keysA","keysB","INTERNAL","INSTANCE","NATIVE_NODE","RENDERED_COMPONENT","getCurrentInstance","getCurrentRenderingInstance","currentInstance","areInputsEqual","inputs","prevInputs","useState","initialState","hookID","getHookID","hooks","getHooks","setState","newState","hook","eagerState","__isScheduled","__update","__shouldUpdate","useContext","useEffect","effect","useEffectImpl","useLayoutEffect","defered","__create","immediately","current","__destory","currentDestory","msg","then","__prevInputs","__inputs","didMount","willUnmount","didUpdate","useImperativeHandle","create","nextInputs","concat","useRef","initialValue","useCallback","useMemo","useReducer","reducer","initialArg","init","dispatch","action","queue","__actions","currentState","__eagerState","eagerReducer","__eagerReducer","next","__reRenders","toArray","getNearestParent","instance","matcher","parent","__parentInstance","id","createContext","defaultValue","contextID","Provider","__contextID","__handlers","__on","handler","__off","filter","h","_getChildContext","getValue","componentDidUpdate","prevProps","render","getNearestParentProvider","Consumer","provider","prevValue","setValue","consumer","_contextID","_defaultValue","__getNearestParentProvider","createRef","_forwardRef","memo","compare","__compares","Fragment","BaseComponent","__currentElement","__initComponent","parentInstance","_parent","_context","_mountID","__destoryComponent","reconciler","unmountComponent","__mountComponent","nativeNodeMounter","__mountNativeNode","mountComponent","shouldNotRemoveChild","removeChild","currentElement","nativeNode","__getNativeNode","appendChild","__createNativeNode","__getPublicInstance","EmptyComponent","createEmpty","__updateComponent","updateRef","prevElement","nextElement","component","prevRef","nextRef","detachRef","attachRef","refs","instantiateComponent","__Native","__Composite","__Text","String","__Fragment","__Empty","shouldUpdateComponent","prevEmpty","nextEmpty","isPrevStringOrNumber","getElementKeyName","index","elementKey","defaultName","keyName","keyUnique","getPrevSiblingNativeNode","__renderedChildren","__mountIndex","Component","partialState","updater","forceUpdate","PureComponent","__isPureComponent","rootID","Root","__element","__rootID","__getRenderedComponent","KEY","set","get","remove","mount","container","hydrate","measurer","beforeRender","createBody","renderOptions","parentContext","parentInternal","__processChildContext","prevRootInstance","__penddingContext","afterRender","renderedComponent","defaultContext","rootInstance","renderNewRootComponent","assign","STYLE","CHILDREN","TREE","EVENT_PREFIX_REGEXP","NativeComponent","appendType","append","__prevStyleCopy","__mountChildren","__mountChildrenImpl","renderedChildren","renderedChildrenImage","renderedChild","mountImage","__unmountChildren","Instance","prevContext","nextContext","nextProps","__updateProperties","__updateChildren","receiveComponent","propKey","styleName","styleUpdates","lastStyle","test","eventListener","removeEventListener","slice","toLowerCase","removeAttribute","nextProp","prevProp","eventName","addEventListener","setAttribute","recordOperation","instanceID","payload","setStyle","nextChildrenElements","prevChildren","nextChildren","prevChild","__unmount","isFragmentParent","prevFirstChild","prevFirstNativeNode","isPrevFirstEmptyFragment","shouldUnmountPrevFirstChild","lastPlacedNode","shouldRemoveAllChildren","Boolean","removeChildren","shouldUnmount","insertNodes","nativeNodes","parentNode","insertAfter","insertBefore","nextIndex","nextChild","prevChildNativeNode","TextComponent","updateText","_stringText","createText","RE_RENDER_LIMIT","ReactiveComponent","pureRender","__isReactiveComponent","__render","__hookID","__hooks","__children","__contexts","state","__prevForwardRef","compares","shouldComponentUpdate","arePropsEqual","contextItem","__provider","handleContextChange","__lastValue","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUnmount","dirtyComponents","getPendingCallbacks","internal","__pendingCallbacks","setPendingCallbacks","getPendingStateQueue","__pendingStateQueue","setPendingStateQueue","enqueueCallback","callbackQueue","enqueueState","stateQueue","runUpdate","prevUnmaskedContext","nextUnmaskedContext","__isPendingForceUpdate","mountOrderComparator","c1","c2","performUpdate","dirties","c","sort","pop","scheduleUpdate","shouldAsyncUpdate","indexOf","requestUpdate","hasComponentRendered","__isPendingState","Updater","performInSandbox","fn","handleError","boundary","componentDidCatch","constructor","getDerivedStateFromError","boundaryInternal","measureLifeCycle","beforeLifeCycle","afterLifeCycle","scheduleLayoutInSandbox","scheduleLayoutCallbacksInSandbox","CompositeComponent","_updateCount","beforeMountComponent","publicProps","componentPrototype","publicContext","__processContext","renderedElement","process","__processPendingState","afterMountComponent","maskedContext","contextTypes","contextName","currentContext","childContext","getChildContext","nextState","partial","beforeUpdateComponent","willReceive","shouldUpdate","prevState","componentWillUpdate","__updateRenderedComponent","afterUpdateComponent","prevRenderedComponent","prevRenderedElement","nextRenderedElement","prevRenderedUnmaskedContext","nextRenderedUnmaskedContext","lastNativeNode","prevNativeNode","newNativeNode","replaceChild","FragmentComponent","fragment","inject","options","rootComponent","componentInstance","DevtoolsHook","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","inst","_nativeNode","Mount","_instancesByReactRootID","_renderNewRootComponent","Reconciler","monitor","shared","__RAX_DEVTOOLS_GLOBAL_HOOK__","window","__RAX_INITIALISED__"],"mappings":"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"}