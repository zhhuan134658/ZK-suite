"use strict";

var _defaultConfig;

var _require = require('path'),
    join = _require.join;

var _require2 = require('miniapp-builder-shared'),
    _require2$constants = _require2.constants,
    WECHAT_MINIPROGRAM = _require2$constants.WECHAT_MINIPROGRAM,
    BYTEDANCE_MICROAPP = _require2$constants.BYTEDANCE_MICROAPP,
    platformMap = _require2.platformMap;

var safeWriteFile = require('./safeWriteFile');

var defaultConfig = (_defaultConfig = {}, _defaultConfig[WECHAT_MINIPROGRAM] = {
  appid: '<your-app-id>'
}, _defaultConfig[BYTEDANCE_MICROAPP] = {
  setting: {}
}, _defaultConfig);

module.exports = function (outputPath, nativeConfig, target) {
  if (nativeConfig === void 0) {
    nativeConfig = {};
  }

  var configContent = Object.assign(defaultConfig[target] || {}, nativeConfig);
  safeWriteFile(join(outputPath, platformMap[target].nativeConfigFileName), configContent, true);
};