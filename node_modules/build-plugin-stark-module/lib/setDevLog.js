"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var chalk = require("chalk");
var entryHelper_1 = require("./entryHelper");
var removeRelativePath = function (path) {
    return path.replace(/^[./]*/, '');
};
var setDevLog = function (args, pluginOptions) {
    var err = args.err, url = args.url;
    if (err) {
        return;
    }
    var modules = pluginOptions.modules, filenameStrategy = pluginOptions.filenameStrategy;
    var entries = (0, entryHelper_1.getModules)(modules);
    console.log();
    console.log(chalk.green('[plugin-stark-module] served at: '));
    var formateUrl = function (key, suffix) {
        var path = (filenameStrategy ? "".concat(filenameStrategy, ".").concat(suffix) : "./[name]/index.".concat(suffix)).replace('[name]', key);
        return url + removeRelativePath(path);
    };
    Object.keys(entries)
        .forEach(function (key) {
        console.log("".concat(chalk.yellow(key), ": ").concat(chalk.underline.white(formateUrl(key, 'js')), " ").concat(chalk.underline.white(formateUrl(key, 'css'))));
    });
};
exports.default = setDevLog;
//# sourceMappingURL=setDevLog.js.map